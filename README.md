# Сервис управления заказами


### Описание проекта

Система управления заказами - это MVP (Minimum Viable Product) прототип, демонстрирующий использование паттерна **Saga** для обеспечения согласованности распределенных транзакций в микросервисной архитектуре.


### Компоненты системы

#### 1. Saga Orchestrator
- **Расположение**: `internal/saga/orchestrator.go`
- **Назначение**: Координирует выполнение распределенной транзакции

#### 2. Сервисы (Services)

##### Order Service
- **Расположение**: `internal/service/order_service.go`
- **Ответственность**: Управление жизненным циклом заказов

##### Billing Service
- **Расположение**: `internal/service/billing_service.go`
- **Ответственность**: Обработка платежей и управление балансами

##### Inventory Service
- **Расположение**: `internal/service/inventory_service.go`
- **Ответственность**: Управление складом

##### Discount Service
- **Расположение**: `internal/service/discount_service.go`
- **Ответственность**: Применение скидок

---

## Паттерн Saga

### Принципы работы

1. **Разделение на шаги**: Длинная транзакция разбивается на последовательность локальных транзакций
2. **Компенсационные транзакции**: Каждый шаг имеет компенсационное действие для отката
3. **Оркестратор**: Центральный компонент координирует выполнение шагов

### Типы Saga

В данном проекте реализован **Saga Orchestrator** (оркестратор):
- Централизованное управление через оркестратор
- Явная последовательность шагов
- Простота понимания и отладки

Альтернатива - **Saga Choreography** (хореография):
- Децентрализованное управление
- Сервисы общаются через события
- Более сложная реализация



